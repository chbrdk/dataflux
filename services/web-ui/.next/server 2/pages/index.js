(()=>{var e={};e.id=405,e.ids=[405,888,660],e.modules={1420:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>p,default:()=>m,getServerSideProps:()=>g,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>y,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>j});var r=t(7093),l=t(5244),i=t(1323),n=t(9209),c=t.n(n),d=t(5913),o=t(2627),x=e([o]);o=(x.then?(await x)():x)[0];let m=(0,i.l)(o,"default"),u=(0,i.l)(o,"getStaticProps"),h=(0,i.l)(o,"getStaticPaths"),g=(0,i.l)(o,"getServerSideProps"),p=(0,i.l)(o,"config"),y=(0,i.l)(o,"reportWebVitals"),j=(0,i.l)(o,"unstable_getStaticProps"),b=(0,i.l)(o,"unstable_getStaticPaths"),f=(0,i.l)(o,"unstable_getStaticParams"),v=(0,i.l)(o,"unstable_getServerProps"),N=(0,i.l)(o,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:o});a()}catch(e){a(e)}})},8721:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997);t(6689);var l=t(9752),i=t(3756),n=t(3217),c=t(2027),d=t(7653),o=t(9482),x=t(2559),m=t(4464),u=t(1914),h=t(2566),g=t(5077),p=t(1629),y=e([l]);l=(y.then?(await y)():y)[0];let FeatureDataTable=({data:e})=>{let renderValue=(e,s)=>{if(console.log("renderValue called with:",{value:e,key:s,type:typeof e,isArray:Array.isArray(e)}),null==e)return r.jsx("span",{className:"text-gray-400 italic",children:"null"});if("string"==typeof e&&Array.isArray(e))return console.warn("String wird als Array behandelt:",e),r.jsx("span",{className:"text-gray-700",children:e});if("string"==typeof e&&1===e.length&&s.match(/^\d+$/))return console.warn("String-Zeichen wird einzeln behandelt:",e,"key:",s),null;if("boolean"==typeof e)return r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e?"Ja":"Nein"});if("number"==typeof e)return s.includes("score")||s.includes("balance")||s.includes("density")?(0,r.jsxs)("span",{className:"font-mono text-blue-600",children:[(100*e).toFixed(1),"%"]}):s.includes("brightness")||s.includes("contrast")?r.jsx("span",{className:"font-mono text-purple-600",children:e.toFixed(1)}):s.includes("x")||s.includes("y")||s.includes("width")||s.includes("height")?r.jsx("span",{className:"font-mono text-gray-600",children:e.toLocaleString()}):r.jsx("span",{className:"font-mono text-gray-700",children:e.toFixed(2)});if("string"==typeof e){if(e.startsWith("{")||e.startsWith("["))try{let t=JSON.parse(e);return renderValue(t,s)}catch{return r.jsx("span",{className:"text-gray-700",children:e})}return r.jsx("span",{className:"text-gray-700",children:String(e)})}return Array.isArray(e)?0===e.length?r.jsx("span",{className:"text-gray-400 italic",children:"[]"}):e.length>0&&"object"==typeof e[0]?r.jsx("div",{className:"space-y-2",children:e.map((e,s)=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded p-2 text-xs",children:[(0,r.jsxs)("div",{className:"font-medium text-gray-600 mb-1",children:["Punkt ",s+1]}),r.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(e).map(([e,s])=>(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-500",children:[e,":"]}),r.jsx("span",{className:"font-mono",children:renderValue(s,e)})]},e))})]},s))}):r.jsx("div",{className:"flex flex-wrap gap-1",children:e.map((e,t)=>r.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:renderValue(e,s)},t))}):"object"==typeof e?r.jsx("div",{className:"bg-gray-50 rounded p-2 text-xs",children:Object.entries(e).map(([e,s])=>(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsxs)("span",{className:"text-gray-600 font-medium",children:[e,":"]}),r.jsx("span",{children:renderValue(s,e)})]},e))}):r.jsx("span",{className:"text-gray-500",children:String(e)})};if(console.log("FeatureDataTable data:",e,"type:",typeof e,"isArray:",Array.isArray(e)),"string"==typeof e){console.warn("Data ist ein String, versuche JSON zu parsen:",e);try{let s=JSON.parse(e);return console.log("JSON erfolgreich geparst:",s),r.jsx(FeatureDataTable,{data:s})}catch(s){return console.warn("JSON-Parsing fehlgeschlagen, rendere als Text:",s),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Feature Details"})}),r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"text-sm text-gray-700 font-mono bg-gray-50 p-3 rounded",children:e})})]})}}return Array.isArray(e)?(console.warn("Data ist ein Array, wird als Liste gerendert:",e),(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Feature Details"})}),r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"text-sm text-gray-700",children:e.map((e,s)=>r.jsx("div",{className:"mb-2",children:renderValue(e,s.toString())},s))})})]})):(0,r.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:r.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Feature Details"})}),r.jsx("div",{className:"divide-y divide-gray-200",children:Object.entries(e).map(([e,s])=>(console.log("Rendering entry:",{key:e,value:s,type:typeof s}),r.jsx("div",{className:"px-4 py-3",children:r.jsx("div",{className:"flex items-start justify-between",children:(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}),r.jsx("div",{className:"text-sm",children:renderValue(s,e)})]})})},e)))})]})},__WEBPACK_DEFAULT_EXPORT__=({assetId:e,onClose:s})=>{let{data:t,isLoading:a,error:y}=(0,l.useQuery)({queryKey:["analysis",e],queryFn:async()=>{let s=await fetch(`http://localhost:2013/api/v1/assets/${e}/analysis`);if(!s.ok)throw Error("Failed to fetch analysis results");return s.json()},enabled:!!e}),getTypeIcon=e=>{switch(e){case"video":return r.jsx(o.Z,{className:"w-4 h-4"});case"audio":return r.jsx(x.Z,{className:"w-4 h-4"});case"image":return r.jsx(m.Z,{className:"w-4 h-4"});default:return r.jsx(u.Z,{className:"w-4 h-4"})}},formatTime=e=>e?`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`:"N/A",formatConfidence=e=>e?`${Math.round(100*e)}%`:"N/A";return a?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsx("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[r.jsx(n.Z,{className:"w-8 h-8 animate-spin text-blue-500"}),r.jsx("span",{className:"ml-2 text-gray-600",children:"Lade Analyse-Ergebnisse..."})]})})}):y?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analyse-Ergebnisse"}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(c.Z,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Fehler beim Laden der Analyse-Ergebnisse"})]})]})}):t?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(h.Z,{className:"w-6 h-6 text-blue-500"}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analyse-Ergebnisse"}),r.jsx("p",{className:"text-gray-600",children:t.filename})]})]}),r.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"✕"})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"completed":return r.jsx(i.Z,{className:"w-5 h-5 text-green-500"});case"processing":return r.jsx(n.Z,{className:"w-5 h-5 text-blue-500 animate-spin"});case"failed":return r.jsx(c.Z,{className:"w-5 h-5 text-red-500"});default:return r.jsx(d.Z,{className:"w-5 h-5 text-yellow-500"})}})(t.processing_status),(0,r.jsxs)("span",{className:"font-medium",children:["Status: ",t.processing_status]})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[t.summary.total_segments," Segmente • ",t.summary.total_features," Features"]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(g.Z,{className:"w-5 h-5 mr-2"}),"Segmente (",t.segments.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.segments.length>0?t.segments.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[getTypeIcon(e.type),r.jsx("span",{className:"font-medium capitalize",children:e.type})]}),r.jsx("span",{className:"text-sm text-gray-500",children:formatConfidence(e.confidence)})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Sequenz: ",e.sequence_number,e.duration&&` • Dauer: ${formatTime(e.duration)}`]}),(Object.keys(e.start_marker).length>0||Object.keys(e.end_marker).length>0)&&(0,r.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,r.jsxs)("div",{children:["Start: ",JSON.stringify(e.start_marker,null,2)]}),(0,r.jsxs)("div",{children:["Ende: ",JSON.stringify(e.end_marker,null,2)]})]})]},e.id)):(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(g.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Keine Segmente gefunden"})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[r.jsx(p.Z,{className:"w-5 h-5 mr-2"}),"Features (",t.features.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.features.length>0?t.features.map(e=>(0,r.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"font-medium",children:e.type}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:e.domain})]}),r.jsx("span",{className:"text-sm text-gray-500",children:formatConfidence(e.confidence)})]}),Object.keys(e.data).length>0&&r.jsx("div",{className:"mt-3",children:r.jsx(FeatureDataTable,{data:e.data})}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,r.jsxs)("div",{children:["Analyzer: ",e.analyzer_version]}),e.created_at&&(0,r.jsxs)("div",{children:["Erstellt: ",new Date(e.created_at).toLocaleString()]})]})]},e.id)):(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(p.Z,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"Keine Features gefunden"})]})})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Zusammenfassung"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Dateityp:"}),r.jsx("p",{className:"text-blue-600",children:t.mime_type})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Segmente:"}),r.jsx("p",{className:"text-blue-600",children:t.summary.total_segments})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Features:"}),r.jsx("p",{className:"text-blue-600",children:t.summary.total_features})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Status:"}),r.jsx("p",{className:"text-blue-600 capitalize",children:t.processing_status})]})]})]})]})}):null};a()}catch(e){a(e)}})},3604:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(9752),n=t(3587),c=t(5077),d=t(9858),o=t(9062),x=t(3494),m=t(8599),u=t(4622),h=t(9009),g=t(6888),p=t(4195),y=t(3023),j=t(5358),b=t(4279),f=t(6108),v=t(1752),N=t(6208),w=t(3815),_=t(4831),S=t(7226),T=t(9018),A=e([i,T,g,p,y,j,b,f,v,N,_,S]);[i,T,g,p,y,j,b,f,v,N,_,S]=A.then?(await A)():A;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{analyticsTimeRange:e,setAnalyticsTimeRange:s}=(0,T.q)(),[t,a]=(0,l.useState)("processing"),{data:A}=(0,i.useQuery)({queryKey:["analytics",e],queryFn:async()=>({processingStats:{totalProcessed:1234,processingTime:45.2,successRate:98.5,queueSize:12},uploadStats:{totalUploads:567,totalSize:"2.3 TB",averageSize:"4.1 MB",uploadSpeed:"12.5 MB/s"},serviceStats:{ingestion:{uptime:99.9,requests:1234,avgResponseTime:45},query:{uptime:99.8,requests:5678,avgResponseTime:23},analysis:{uptime:99.7,requests:890,avgResponseTime:120},mcp:{uptime:99.9,requests:234,avgResponseTime:67}},processingOverTime:[{time:"00:00",processed:4,queued:2},{time:"04:00",processed:2,queued:1},{time:"08:00",processed:12,queued:8},{time:"12:00",processed:18,queued:5},{time:"16:00",processed:15,queued:3},{time:"20:00",processed:8,queued:2}],mediaTypeDistribution:[{name:"Video",value:45,count:456,color:"#3B82F6"},{name:"Image",value:35,count:1234,color:"#10B981"},{name:"Audio",value:15,count:234,color:"#F59E0B"},{name:"Document",value:5,count:89,color:"#EF4444"}],processingTimeByType:[{type:"Video",avgTime:45,minTime:12,maxTime:120},{type:"Image",avgTime:2,minTime:1,maxTime:5},{type:"Audio",avgTime:8,minTime:3,maxTime:25},{type:"Document",avgTime:3,minTime:1,maxTime:8}],systemMetrics:{cpuUsage:45.2,memoryUsage:67.8,diskUsage:23.4,networkIO:12.5}})}),Z=[{title:"Total Processed",value:A?.processingStats.totalProcessed||0,icon:n.Z,color:"blue",change:"+12%",changeType:"positive"},{title:"Avg Processing Time",value:`${A?.processingStats.processingTime||0}s`,icon:c.Z,color:"green",change:"-8%",changeType:"negative"},{title:"Success Rate",value:`${A?.processingStats.successRate||0}%`,icon:d.Z,color:"purple",change:"+2%",changeType:"positive"},{title:"Queue Size",value:A?.processingStats.queueSize||0,icon:o.Z,color:"yellow",change:"-15%",changeType:"negative"}],k=[{title:"CPU Usage",value:`${A?.systemMetrics.cpuUsage||0}%`,icon:x.Z,color:"blue"},{title:"Memory Usage",value:`${A?.systemMetrics.memoryUsage||0}%`,icon:n.Z,color:"green"},{title:"Disk Usage",value:`${A?.systemMetrics.diskUsage||0}%`,icon:m.Z,color:"yellow"},{title:"Network I/O",value:`${A?.systemMetrics.networkIO||0} MB/s`,icon:o.Z,color:"purple"}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Processing statistics and system metrics"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4 text-gray-600"}),r.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"text-sm border border-gray-300 rounded-md px-3 py-2",children:[{value:"1h",label:"Last Hour"},{value:"24h",label:"Last 24 Hours"},{value:"7d",label:"Last 7 Days"},{value:"30d",label:"Last 30 Days"}].map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Z.map((e,s)=>{let t=e.icon;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value}),(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[r.jsx("span",{className:`text-sm ${"positive"===e.changeType?"text-green-600":"text-red-600"}`,children:e.change}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last period"})]})]}),r.jsx("div",{className:`p-3 rounded-lg ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"}[e.color]}`,children:r.jsx(t,{className:"w-6 h-6"})})]})},s)})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Processing Over Time"}),r.jsx(h.h,{width:"100%",height:300,children:(0,r.jsxs)(g.T,{data:A?.processingOverTime||[],children:[r.jsx(p.q,{strokeDasharray:"3 3"}),r.jsx(y.K,{dataKey:"time"}),r.jsx(j.B,{}),r.jsx(b.u,{}),r.jsx(f.uN,{type:"monotone",dataKey:"processed",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6"}),r.jsx(f.uN,{type:"monotone",dataKey:"queued",stackId:"1",stroke:"#10B981",fill:"#10B981"})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Media Type Distribution"}),r.jsx(h.h,{width:"100%",height:300,children:(0,r.jsxs)(v.u,{children:[r.jsx(N.b,{data:A?.mediaTypeDistribution||[],cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:e=>`${e.name} ${(100*e.percent).toFixed(0)}%`,children:(A?.mediaTypeDistribution||[]).map((e,s)=>r.jsx(w.b,{fill:e.color},`cell-${s}`))}),r.jsx(b.u,{})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Processing Time by Type"}),r.jsx(h.h,{width:"100%",height:300,children:(0,r.jsxs)(_.v,{data:A?.processingTimeByType||[],children:[r.jsx(p.q,{strokeDasharray:"3 3"}),r.jsx(y.K,{dataKey:"type"}),r.jsx(j.B,{}),r.jsx(b.u,{}),r.jsx(S.$,{dataKey:"avgTime",fill:"#3B82F6"})]})})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Metrics"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:k.map((e,s)=>{let t=e.icon;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value})]}),r.jsx("div",{className:`p-3 rounded-lg ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"}[e.color]}`,children:r.jsx(t,{className:"w-6 h-6"})})]})},s)})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Service Status"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(A?.serviceStats||{}).map(([e,s])=>(0,r.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:e}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[s.uptime,"%"]})]})]}),(0,r.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Requests:"}),r.jsx("span",{children:s.requests})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Avg Response:"}),(0,r.jsxs)("span",{children:[s.avgResponseTime,"ms"]})]})]})]},e))})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3",children:[{action:"Processed",file:"video_sample.mp4",time:"2 minutes ago",status:"success"},{action:"Failed",file:"corrupted_file.avi",time:"5 minutes ago",status:"error"},{action:"Queued",file:"image_batch.zip",time:"8 minutes ago",status:"pending"},{action:"Completed",file:"audio_podcast.wav",time:"12 minutes ago",status:"success"}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${"success"===e.status?"bg-green-500":"error"===e.status?"bg-red-500":"bg-yellow-500"}`}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:e.action})," ",e.file]})]}),r.jsx("span",{className:"text-sm text-gray-500",children:e.time})]},s))})]})]})};a()}catch(e){a(e)}})},1396:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(9752),n=t(6784),c=t(5283),d=t(5554),o=t(3766),x=t(2297),m=t(7764),u=t(1981),h=t(4423),g=t(5976),p=t(3718),y=t(5351),j=t(5077),b=t(4464),f=t(2566),v=t(3025),N=t(5644),w=t(1853),_=t(6201),S=t(8721),T=e([i,_,S]);[i,_,S]=T.then?(await T)():T;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,l.useState)("grid"),[t,a]=(0,l.useState)([]),[T,A]=(0,l.useState)({status:"",type:"",dateRange:""}),[Z,k]=(0,l.useState)(null),[F,P]=(0,l.useState)(null),[D,E]=(0,l.useState)(!1),C=(0,i.useQueryClient)(),{data:q,isLoading:B,refetch:$}=(0,i.useQuery)({queryKey:["assets"],queryFn:async()=>{let e=await fetch("http://localhost:2013/api/v1/assets");if(!e.ok)throw Error("Failed to fetch assets");return e.json()},refetchOnWindowFocus:!1,staleTime:3e4}),M=q?.assets||[],O=(0,i.useMutation)({mutationFn:async e=>{let s=await fetch(`http://localhost:2013/api/v1/assets/${e}`,{method:"DELETE"});if(!s.ok)throw Error("Failed to delete asset");return s.json()},onSuccess:(e,s)=>{_.toast.success("Asset erfolgreich gel\xf6scht"),C.invalidateQueries({queryKey:["assets"]}),E(!1),P(null),a(e=>e.filter(e=>e!==s))},onError:e=>{_.toast.error("Fehler beim L\xf6schen des Assets"),console.error("Delete error:",e)}}),U=(0,i.useMutation)({mutationFn:async e=>{let s=await fetch("http://localhost:2013/api/v1/assets/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error("Failed to delete assets");return s.json()},onSuccess:e=>{_.toast.success(`${e.deleted_count} Asset(s) erfolgreich gel\xf6scht`),C.invalidateQueries({queryKey:["assets"]}),a([])},onError:e=>{_.toast.error("Fehler beim L\xf6schen der Assets"),console.error("Bulk delete error:",e)}}),handleDeleteClick=e=>{P(e),E(!0)},getFileIcon=e=>e.startsWith("video/")?n.Z:e.startsWith("image/")?c.Z:e.startsWith("audio/")?d.Z:o.Z,handleShowAnalysis=e=>{k(e)},getStatusColor=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"processing":return"bg-blue-100 text-blue-800";case"queued":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},formatFileSize=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},formatDate=e=>new Date(e).toLocaleDateString(),formatDuration=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`,toggleAssetSelection=e=>{a(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};return B?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Assets"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your media files"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[M?.length||0," files"]}),r.jsx("button",{onClick:()=>$(),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors",title:"Refresh assets",children:r.jsx(x.Z,{className:"w-4 h-4"})})]})]}),r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search assets...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4 text-gray-600"}),(0,r.jsxs)("select",{value:T.status,onChange:e=>A(s=>({...s,status:e.target.value})),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"processing",children:"Processing"}),r.jsx("option",{value:"queued",children:"Queued"}),r.jsx("option",{value:"failed",children:"Failed"})]}),(0,r.jsxs)("select",{value:T.type,onChange:e=>A(s=>({...s,type:e.target.value})),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"video",children:"Video"}),r.jsx("option",{value:"image",children:"Image"}),r.jsx("option",{value:"audio",children:"Audio"}),r.jsx("option",{value:"document",children:"Document"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>s("grid"),className:`p-2 rounded-md ${"grid"===e?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:r.jsx(h.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s("list"),className:`p-2 rounded-md ${"list"===e?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:r.jsx(g.Z,{className:"w-4 h-4"})})]}),t.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[t.length," selected"]}),(0,r.jsxs)("button",{onClick:()=>{t.length>0&&confirm(`M\xf6chten Sie wirklich ${t.length} Asset(s) l\xf6schen?`)&&U.mutate(t)},disabled:U.isPending,className:"px-3 py-1 bg-red-600 text-white text-sm rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[r.jsx(p.Z,{className:"w-3 h-3"}),r.jsx("span",{children:U.isPending?"L\xf6schen...":"L\xf6schen"})]})]})]})]})}),"grid"===e?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:M?.map(e=>{let s=getFileIcon(e.mime_type);return r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:[e.thumbnail_path?r.jsx("img",{src:`http://localhost:2013/api/v1/assets/${e.id}/thumbnail`,alt:e.filename,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.setAttribute("style","display: block")}}):null,r.jsx(s,{className:`w-12 h-12 text-gray-400 ${e.thumbnail_path?"hidden":""}`})]}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate flex-1",children:e.filename}),r.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(y.Z,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize",children:e.mime_type.split("/")[0]}),r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${getStatusColor(e.processing_status)}`,children:e.processing_status})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:formatFileSize(e.file_size)}),r.jsx("span",{children:formatDate(e.created_at)})]}),e.metadata?.duration&&r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx(j.Z,{className:"w-3 h-3"}),r.jsx("span",{children:formatDuration(e.metadata.duration)})]}),(e.dimensions||e.metadata?.dimensions)&&r.jsxs("div",{className:"text-xs",children:[(e.dimensions||e.metadata?.dimensions)?.width," \xd7 ",(e.dimensions||e.metadata?.dimensions)?.height]})]}),r.jsxs("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:[r.jsxs("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-sm",children:[r.jsx(b.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>handleShowAnalysis(e.id),className:"p-1 text-purple-400 hover:text-purple-600",title:"Analyse-Ergebnisse anzeigen",children:r.jsx(f.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(v.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>handleDeleteClick(e),className:"p-1 text-red-400 hover:text-red-600",title:"Asset l\xf6schen",children:r.jsx(p.Z,{className:"w-4 h-4"})})]})]})]})]},e.id)})}):(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200",children:[r.jsx("div",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"checkbox",checked:t.length===M?.length,onChange:()=>{t.length===M?.length?a([]):a(M?.map(e=>e.id)||[])},className:"rounded border-gray-300"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Name"})]})}),r.jsx("div",{className:"divide-y divide-gray-200",children:M?.map(e=>{let s=getFileIcon(e.mime_type);return r.jsx("div",{className:"px-6 py-4 hover:bg-gray-50",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"checkbox",checked:t.includes(e.id),onChange:()=>toggleAssetSelection(e.id),className:"rounded border-gray-300"}),r.jsxs("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0 overflow-hidden",children:[e.thumbnail_path?r.jsx("img",{src:`http://localhost:2013/api/v1/assets/${e.id}/thumbnail`,alt:e.filename,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling?.setAttribute("style","display: block")}}):null,r.jsx(s,{className:`w-6 h-6 text-gray-400 ${e.thumbnail_path?"hidden":""}`})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:e.filename}),r.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[r.jsx("span",{className:"capitalize",children:e.mime_type.split("/")[0]}),r.jsx("span",{children:formatFileSize(e.file_size)}),r.jsx("span",{children:formatDate(e.created_at)}),e.metadata?.duration&&r.jsx("span",{children:formatDuration(e.metadata.duration)})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${getStatusColor(e.processing_status)}`,children:e.processing_status}),r.jsx("button",{onClick:()=>handleShowAnalysis(e.id),className:"p-2 text-purple-400 hover:text-purple-600",title:"Analyse-Ergebnisse",children:r.jsx(f.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(b.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(v.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>handleDeleteClick(e),className:"p-2 text-red-400 hover:text-red-600",title:"L\xf6schen",children:r.jsx(p.Z,{className:"w-4 h-4"})})]})]})},e.id)})})]}),M?.length===0&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(N.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assets found"}),r.jsx("p",{className:"text-gray-600",children:"Upload some files to get started"})]}),Z&&r.jsx(S.Z,{assetId:Z,onClose:()=>k(null)}),D&&F&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:r.jsx(w.Z,{className:"w-5 h-5 text-red-600"})}),r.jsx("div",{children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Asset l\xf6schen?"})})]}),(0,r.jsxs)("p",{className:"text-gray-600 mb-2",children:["M\xf6chten Sie das Asset ",r.jsx("strong",{children:F.filename})," wirklich l\xf6schen?"]}),r.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Diese Aktion kann nicht r\xfcckg\xe4ngig gemacht werden. Das Asset und alle zugeh\xf6rigen Analyse-Daten werden permanent gel\xf6scht."}),(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[r.jsx("button",{onClick:()=>{E(!1),P(null)},disabled:O.isPending,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 disabled:opacity-50",children:"Abbrechen"}),r.jsx("button",{onClick:()=>{F&&O.mutate(F.id)},disabled:O.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 flex items-center space-x-2",children:O.isPending?(0,r.jsxs)(r.Fragment,{children:[r.jsx(x.Z,{className:"w-4 h-4 animate-spin"}),r.jsx("span",{children:"L\xf6schen..."})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(p.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"L\xf6schen"})]})})]})]})})]})};a()}catch(e){a(e)}})},8509:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997);t(6689);var l=t(9752),i=t(3587),n=t(8142),c=t(5077),d=t(3756),o=t(7764),x=t(2566),m=t(6784),u=t(5283),h=t(5554),g=t(3766),p=t(9009),y=t(8687),j=t(4195),b=t(3023),f=t(5358),v=t(4279),N=t(6880),w=t(4831),_=t(7226),S=e([l,y,j,b,f,v,N,w,_]);[l,y,j,b,f,v,N,w,_]=S.then?(await S)():S;let __WEBPACK_DEFAULT_EXPORT__=()=>{let{data:e}=(0,l.useQuery)({queryKey:["dashboard-stats"],queryFn:async()=>{let e=await fetch("http://localhost:2013/api/v1/assets"),s=await e.json(),t=await fetch("http://localhost:2013/health").then(e=>e.json()).catch(()=>({status:"down",uptime:"0%"})),a=await fetch("http://localhost:8003/health").then(e=>e.json()).catch(()=>({status:"down",uptime:"0%"})),r=(s.reduce((e,s)=>e+s.file_size,0)/1024/1024/1024).toFixed(1)+" GB",l=s.filter(e=>"queued"===e.status).length;return{totalAssets:s.length,totalSize:r,processingQueue:l,completedToday:s.filter(e=>"completed"===e.status).length,recentAssets:s.sort((e,s)=>new Date(s.created_at).getTime()-new Date(e.created_at).getTime()),services:{ingestion:{status:t.status,uptime:"99.9%"},query:{status:a.status,uptime:"99.8%"},analysis:{status:"running",uptime:"99.7%"},mcp:{status:"running",uptime:"99.9%"}}}}}),{data:s}=(0,l.useQuery)({queryKey:["dashboard-analytics"],queryFn:async()=>({uploadsOverTime:[{time:"00:00",uploads:4},{time:"04:00",uploads:2},{time:"08:00",uploads:12},{time:"12:00",uploads:18},{time:"16:00",uploads:15},{time:"20:00",uploads:8}],processingTime:[{type:"Video",avgTime:45},{type:"Image",avgTime:2},{type:"Audio",avgTime:8},{type:"Document",avgTime:3}],mediaDistribution:[{name:"Video",value:45,color:"#3B82F6"},{name:"Image",value:35,color:"#10B981"},{name:"Audio",value:15,color:"#F59E0B"},{name:"Document",value:5,color:"#EF4444"}]})}),t=[{title:"Total Assets",value:e?.totalAssets||0,icon:i.Z,color:"blue",change:"+12%",changeType:"positive"},{title:"Storage Used",value:e?.totalSize||"0 GB",icon:n.Z,color:"green",change:"+8%",changeType:"positive"},{title:"Processing Queue",value:e?.processingQueue||0,icon:c.Z,color:"yellow",change:"-5%",changeType:"negative"},{title:"Completed Today",value:e?.completedToday||0,icon:d.Z,color:"purple",change:"+23%",changeType:"positive"}],a=[{name:"Ingestion Service",port:"2013",icon:n.Z},{name:"Query Service",port:"8003",icon:o.Z},{name:"Analysis Service",port:"8004",icon:x.Z},{name:"MCP Server",port:"2015",icon:i.Z}],S=[{type:"Video",count:456,icon:m.Z,color:"blue"},{type:"Image",count:1234,icon:u.Z,color:"green"},{type:"Audio",count:234,icon:h.Z,color:"yellow"},{type:"Document",count:89,icon:g.Z,color:"purple"}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Welcome to your DataFlux media database"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{children:"All systems operational"})]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,s)=>{let t=e.icon;return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:e.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:e.value}),(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[r.jsx("span",{className:`text-sm ${"positive"===e.changeType?"text-green-600":"text-red-600"}`,children:e.change}),r.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last week"})]})]}),r.jsx("div",{className:`p-3 rounded-lg ${{blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",yellow:"bg-yellow-50 text-yellow-600",purple:"bg-purple-50 text-purple-600"}[e.color]}`,children:r.jsx(t,{className:"w-6 h-6"})})]})},s)})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Uploads Over Time"}),r.jsx(p.h,{width:"100%",height:300,children:(0,r.jsxs)(y.w,{data:s?.uploadsOverTime||[],children:[r.jsx(j.q,{strokeDasharray:"3 3"}),r.jsx(b.K,{dataKey:"time"}),r.jsx(f.B,{}),r.jsx(v.u,{}),r.jsx(N.x,{type:"monotone",dataKey:"uploads",stroke:"#3B82F6",strokeWidth:2})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Average Processing Time"}),r.jsx(p.h,{width:"100%",height:300,children:(0,r.jsxs)(w.v,{data:s?.processingTime||[],children:[r.jsx(j.q,{strokeDasharray:"3 3"}),r.jsx(b.K,{dataKey:"type"}),r.jsx(f.B,{}),r.jsx(v.u,{}),r.jsx(_.$,{dataKey:"avgTime",fill:"#10B981"})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Services Status"}),r.jsx("div",{className:"space-y-4",children:a.map((s,t)=>{let a=s.icon,l=e?.services[s.name.toLowerCase().replace(" ","")];return(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(a,{className:"w-5 h-5 text-gray-600"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:s.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Port ",s.port]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("span",{className:"text-sm text-gray-600",children:l?.uptime||"99.9%"})]})]},t)})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Media Types"}),r.jsx("div",{className:"space-y-4",children:S.map((e,s)=>{let t=e.icon,a=Math.round(e.count/2013*100);return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(t,{className:"w-5 h-5 text-gray-600"}),r.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.type})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full bg-${e.color}-500`,style:{width:`${a}%`}})}),r.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:e.count})]})]},s)})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),r.jsx("div",{className:"space-y-3",children:e&&Array.isArray(e.recentAssets)?e.recentAssets.slice(0,4).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${"completed"===e.status?"bg-green-500":"queued"===e.status?"bg-yellow-500":"bg-red-500"}`}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium capitalize",children:"queued"===e.status?"Queued":"completed"===e.status?"Processed":"Uploaded"})," ",e.filename]})]}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]},e.id)):[{action:"Uploaded",file:"test_video.mp4",time:"2 minutes ago",type:"video"},{action:"Queued",file:"Cheesy Dad Basket.mp4",time:"5 minutes ago",type:"video"}].map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,r.jsxs)("span",{className:"text-sm text-gray-900",children:[r.jsx("span",{className:"font-medium",children:e.action})," ",e.file]})]}),r.jsx("span",{className:"text-sm text-gray-500",children:e.time})]},s))})]})]})};a()}catch(e){a(e)}})},8575:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997);t(6689);var l=t(9018),i=t(7764),n=t(2297),c=t(6789),d=t(4933),o=e([l]);l=(o.then?(await o)():o)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let{currentView:e,setCurrentView:s}=(0,l.q)();return r.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:(()=>{switch(e){case"dashboard":return"Dashboard";case"upload":return"Upload Media";case"search":return"Search";case"assets":return"Assets";case"analytics":return"Analytics";default:return"DataFlux"}})()}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:(()=>{switch(e){case"dashboard":return"Overview of your media database";case"upload":return"Upload and process media files";case"search":return"Multi-modal search across all media";case"assets":return"Manage your media assets";case"analytics":return"Processing statistics and insights";default:return"AI-powered media database"}})()})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(i.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Quick search...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(n.Z,{className:"w-5 h-5"})}),(0,r.jsxs)("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(c.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx(d.Z,{className:"w-5 h-5 text-white"})}),(0,r.jsxs)("div",{className:"hidden sm:block",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Admin User"}),r.jsx("p",{className:"text-xs text-gray-500",children:"admin@dataflux.local"})]})]})]})]})})};a()}catch(e){a(e)}})},7435:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997);t(6689);var l=t(9018),i=t(8926),n=t(8575),c=e([l,i,n]);[l,i,n]=c.then?(await c)():c;let __WEBPACK_DEFAULT_EXPORT__=({children:e})=>{let{sidebarOpen:s,setSidebarOpen:t}=(0,l.q)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx(i.Z,{}),(0,r.jsxs)("div",{className:`transition-all duration-300 ${s?"ml-64":"ml-16"}`,children:[r.jsx(n.Z,{}),r.jsx("main",{className:"p-6",children:e})]})]})};a()}catch(e){a(e)}})},3911:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(9752),n=t(6201),c=t(6784),d=t(5283),o=t(5554),x=t(3766),m=t(7764),u=t(1981),h=t(4423),g=t(5976),p=t(5077),y=t(4464),j=t(3025),b=t(9560),f=t(9018),v=e([i,n,f]);[i,n,f]=v.then?(await v)():v;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,l.useState)(""),[t,a]=(0,l.useState)({mediaTypes:[],dateRange:"",fileSize:"",sortBy:"relevance"}),[v,N]=(0,l.useState)("grid"),{searchQuery:w,setSearchQuery:_,searchResults:S,setSearchResults:T}=(0,f.q)(),A=(0,i.useMutation)({mutationFn:async e=>{let s=await fetch("http://localhost:8003/api/v1/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,media_types:t.mediaTypes.length>0?t.mediaTypes:void 0,limit:50,include_segments:!0})});if(!s.ok)throw Error("Search failed");return s.json()},onSuccess:e=>{T(e.results||[]),n.default.success(`Found ${e.results?.length||0} results`)},onError:e=>{n.default.error("Search failed"),console.error("Search error:",e)}}),getFileIcon=e=>{switch(e){case"video":return c.Z;case"image":return d.Z;case"audio":return o.Z;default:return x.Z}},formatFileSize=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},formatDate=e=>new Date(e).toLocaleDateString(),formatDuration=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Search"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Multi-modal search across all your media"})]}),(0,r.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e.trim()&&(_(e),A.mutate(e))},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Search for videos, images, audio, or documents...",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(u.Z,{className:"w-4 h-4 text-gray-600"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Type:"}),(0,r.jsxs)("select",{value:t.mediaTypes[0]||"",onChange:e=>a(s=>({...s,mediaTypes:e.target.value?[e.target.value]:[]})),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[r.jsx("option",{value:"",children:"All Types"}),r.jsx("option",{value:"video",children:"Video"}),r.jsx("option",{value:"image",children:"Image"}),r.jsx("option",{value:"audio",children:"Audio"}),r.jsx("option",{value:"document",children:"Document"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("label",{className:"text-sm text-gray-600",children:"Sort:"}),(0,r.jsxs)("select",{value:t.sortBy,onChange:e=>a(s=>({...s,sortBy:e.target.value})),className:"text-sm border border-gray-300 rounded-md px-2 py-1",children:[r.jsx("option",{value:"relevance",children:"Relevance"}),r.jsx("option",{value:"date",children:"Date"}),r.jsx("option",{value:"size",children:"File Size"}),r.jsx("option",{value:"name",children:"Name"})]})]})]}),r.jsx("button",{type:"submit",disabled:A.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:A.isPending?"Searching...":"Search"})]}),A.isSuccess&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Search Results (",S.length,")"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded-md ${"grid"===v?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:r.jsx(h.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded-md ${"list"===v?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:r.jsx(g.Z,{className:"w-4 h-4"})})]})]})}),"grid"===v?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S.map(e=>{let s=getFileIcon(e.type);return(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsx("div",{className:"aspect-video bg-gray-100 flex items-center justify-center",children:e.metadata.thumbnail?r.jsx("img",{src:e.metadata.thumbnail,alt:e.filename,className:"w-full h-full object-cover"}):r.jsx(s,{className:"w-12 h-12 text-gray-400"})}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate mb-2",children:e.filename}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"capitalize",children:e.type}),(0,r.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:[Math.round(100*e.score),"% match"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{children:formatFileSize(e.file_size)}),r.jsx("span",{children:formatDate(e.created_at)})]}),e.metadata.duration&&(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx(p.Z,{className:"w-3 h-3"}),r.jsx("span",{children:formatDuration(e.metadata.duration)})]}),e.metadata.dimensions&&(0,r.jsxs)("div",{className:"text-xs",children:[e.metadata.dimensions.width," \xd7 ",e.metadata.dimensions.height]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-3 border-t border-gray-100",children:[(0,r.jsxs)("button",{className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700 text-sm",children:[r.jsx(y.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"View"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(j.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(b.Z,{className:"w-4 h-4"})})]})]})]})]},e.id)})}):r.jsx("div",{className:"space-y-3",children:S.map(e=>{let s=getFileIcon(e.type);return r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:r.jsx(s,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h4",{className:"font-medium text-gray-900 truncate",children:e.filename}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[r.jsx("span",{className:"capitalize",children:e.type}),r.jsx("span",{children:formatFileSize(e.file_size)}),r.jsx("span",{children:formatDate(e.created_at)}),e.metadata.duration&&r.jsx("span",{children:formatDuration(e.metadata.duration)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:[Math.round(100*e.score),"% match"]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(y.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:r.jsx(j.Z,{className:"w-4 h-4"})})]})]})},e.id)})})]}),A.isSuccess&&0===S.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(m.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),r.jsx("p",{className:"text-gray-600",children:"Try adjusting your search terms or filters"})]})]})};a()}catch(e){a(e)}})},8926:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997);t(6689);var l=t(9018),i=t(9483),n=t(8142),c=t(7764),d=t(5644),o=t(1629),x=t(2566),m=t(3587),u=t(6784),h=t(5283),g=t(5554),p=t(3766),y=t(1352),j=t(7232),b=t(1408),f=e([l]);l=(f.then?(await f)():f)[0];let __WEBPACK_DEFAULT_EXPORT__=()=>{let{currentView:e,setCurrentView:s,sidebarOpen:t,setSidebarOpen:a}=(0,l.q)(),f=[{id:"dashboard",label:"Dashboard",icon:i.Z,description:"Overview and statistics"},{id:"upload",label:"Upload",icon:n.Z,description:"Upload media files"},{id:"search",label:"Search",icon:c.Z,description:"Multi-modal search"},{id:"assets",label:"Assets",icon:d.Z,description:"Manage media assets"},{id:"analytics",label:"Analytics",icon:o.Z,description:"Processing analytics"}],v=[{id:"ingestion",label:"Ingestion Service",icon:n.Z,status:"running",port:"2013"},{id:"query",label:"Query Service",icon:c.Z,status:"running",port:"8003"},{id:"analysis",label:"Analysis Service",icon:x.Z,status:"running",port:"8004"},{id:"mcp",label:"MCP Server",icon:m.Z,status:"running",port:"2015"}],N=[{type:"video",icon:u.Z,count:42},{type:"image",icon:h.Z,count:128},{type:"audio",icon:g.Z,count:67},{type:"document",icon:p.Z,count:23}];return(0,r.jsxs)(r.Fragment,{children:[t&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),(0,r.jsxs)("div",{className:`
        fixed left-0 top-0 h-full bg-white border-r border-gray-200 z-50
        transition-all duration-300 ease-in-out
        ${t?"w-64":"w-16"}
      `,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[t&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx(m.Z,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"DataFlux"})]}),r.jsx("button",{onClick:()=>a(!t),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:t?r.jsx(y.Z,{className:"w-5 h-5 text-gray-600"}):r.jsx(j.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,r.jsxs)("nav",{className:"flex-1 overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-4",children:[t&&r.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Navigation"}),r.jsx("div",{className:"space-y-1",children:f.map(a=>{let l=a.icon,i=e===a.id;return(0,r.jsxs)("button",{onClick:()=>s(a.id),className:`
                      w-full flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors
                      ${i?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100"}
                    `,title:t?void 0:a.description,children:[r.jsx(l,{className:`w-5 h-5 ${t?"mr-3":"mx-auto"}`}),t&&r.jsx("span",{children:a.label})]},a.id)})})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[t&&r.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Services"}),r.jsx("div",{className:"space-y-2",children:v.map(e=>{let s=e.icon;return e.status,(0,r.jsxs)("div",{className:`
                      flex items-center px-3 py-2 rounded-lg text-sm
                      ${t?"justify-between":"justify-center"}
                    `,title:t?void 0:`${e.label} (${e.status})`,children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(s,{className:`w-4 h-4 ${t?"mr-2":"mx-auto"} text-gray-600`}),t&&r.jsx("span",{className:"text-gray-700",children:e.label})]}),t&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:`w-2 h-2 rounded-full ${"running"===e.status?"bg-green-500":"bg-red-500"}`}),r.jsx("span",{className:"text-xs text-gray-500",children:e.port})]})]},e.id)})})]}),(0,r.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[t&&r.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"Media Types"}),r.jsx("div",{className:"space-y-2",children:N.map(e=>{let s=e.icon;return(0,r.jsxs)("div",{className:`
                      flex items-center px-3 py-2 rounded-lg text-sm
                      ${t?"justify-between":"justify-center"}
                    `,title:t?void 0:`${e.type}: ${e.count} files`,children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(s,{className:`w-4 h-4 ${t?"mr-2":"mx-auto"} text-gray-600`}),t&&r.jsx("span",{className:"text-gray-700 capitalize",children:e.type})]}),t&&r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:e.count})]},e.type)})})]})]}),r.jsx("div",{className:"p-4 border-t border-gray-200",children:(0,r.jsxs)("button",{className:"w-full flex items-center px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[r.jsx(b.Z,{className:`w-5 h-5 ${t?"mr-3":"mx-auto"}`}),t&&r.jsx("span",{children:"Settings"})]})})]})]})};a()}catch(e){a(e)}})},7683:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(6689),i=t(7457),n=t(9752),c=t(6201),d=t(6784),o=t(5283),x=t(5554),m=t(3766),u=t(3756),h=t(7653),g=t(5077),p=t(8142),y=t(3718),j=t(9018),b=e([i,n,c,j]);[i,n,c,j]=b.then?(await b)():b;let __WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!1),{setUploadProgress:b}=(0,j.q)(),f=(0,n.useMutation)({mutationFn:async e=>{let s=new FormData;s.append("file",e),s.append("context","Web UI Upload"),s.append("priority","5");let t=await fetch("http://localhost:2013/api/v1/assets",{method:"POST",body:s,headers:{Accept:"application/json"}});if(!t.ok)throw Error("Upload failed");return t.json()},onSuccess:(e,t)=>{c.default.success(`${t.name} uploaded successfully`),s(e=>e.map(e=>e.file===t?{...e,status:"completed",progress:100}:e))},onError:(e,t)=>{c.default.error(`Failed to upload ${t.name}`),s(s=>s.map(s=>s.file===t?{...s,status:"error",error:e.message}:s))}}),v=(0,l.useCallback)(e=>{let t=e.map(e=>({id:Math.random().toString(36).substr(2,9),file:e,status:"pending",progress:0}));s(e=>[...e,...t]),c.default.success(`${e.length} file(s) added to upload queue`)},[]),{getRootProps:N,getInputProps:w,isDragActive:_}=(0,i.useDropzone)({onDrop:v,accept:{"video/*":[".mp4",".avi",".mov",".mkv",".webm"],"image/*":[".jpg",".jpeg",".png",".gif",".bmp",".tiff"],"audio/*":[".mp3",".wav",".flac",".ogg",".aac"],"application/pdf":[".pdf"],"text/*":[".txt",".md"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]},multiple:!0,maxSize:104857600}),handleUpload=async e=>{s(s=>s.map(s=>s.id===e.id?{...s,status:"uploading",progress:0}:s));let t=setInterval(()=>{s(s=>s.map(s=>{if(s.id===e.id&&"uploading"===s.status){let e=Math.min(s.progress+10,90);return b(s.id,e),{...s,progress:e}}return s}))},200);try{await f.mutateAsync(e.file),s(s=>s.map(s=>s.id===e.id?{...s,status:"processing",progress:95}:s)),setTimeout(()=>{s(s=>s.map(s=>s.id===e.id?{...s,status:"completed",progress:100}:s)),c.default.success(`${e.file.name} processing completed`)},2e3)}catch(e){}finally{clearInterval(t)}},removeFile=e=>{s(s=>s.filter(s=>s.id!==e))},getFileIcon=e=>e.type.startsWith("video/")?d.Z:e.type.startsWith("image/")?o.Z:e.type.startsWith("audio/")?x.Z:m.Z,getStatusIcon=e=>{switch(e){case"completed":return u.Z;case"error":return h.Z;case"uploading":case"processing":return g.Z;default:return null}},getStatusColor=e=>{switch(e){case"completed":return"text-green-600";case"error":return"text-red-600";case"uploading":case"processing":return"text-blue-600";default:return"text-gray-600"}},formatFileSize=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Upload Media"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Upload and process your media files"})]}),(0,r.jsxs)("div",{...N(),className:`
          border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors
          ${_?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
        `,children:[r.jsx("input",{...w()}),r.jsx(p.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:_?"Drop files here":"Drag & drop files here"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"or click to select files"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[r.jsx("p",{children:"Supported formats: MP4, AVI, MOV, JPG, PNG, MP3, WAV, PDF, DOC"}),r.jsx("p",{children:"Maximum file size: 100MB"})]})]}),e.length>0&&(0,r.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Queue"}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.length," file(s) in queue"]})]}),r.jsx("div",{className:"space-y-3",children:e.map(e=>{let s=getFileIcon(e.file),t=getStatusIcon(e.status);return(0,r.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx(s,{className:"w-8 h-8 text-gray-600"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[t&&r.jsx(t,{className:`w-4 h-4 ${getStatusColor(e.status)}`}),r.jsx("span",{className:`text-sm font-medium ${getStatusColor(e.status)}`,children:e.status})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[r.jsx("p",{className:"text-xs text-gray-500",children:formatFileSize(e.file.size)}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:["pending"===e.status&&r.jsx("button",{onClick:()=>handleUpload(e),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded-md hover:bg-blue-700 transition-colors",children:"Upload"}),r.jsx("button",{onClick:()=>removeFile(e.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:r.jsx(y.Z,{className:"w-4 h-4"})})]})]}),("uploading"===e.status||"processing"===e.status)&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.progress,"% complete"]})]}),"error"===e.status&&e.error&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:e.error})]})]},e.id)})}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:[e.filter(e=>"completed"===e.status).length," completed,"," ",e.filter(e=>"error"===e.status).length," failed"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>{e.filter(e=>"pending"===e.status).forEach(handleUpload)},disabled:0===e.filter(e=>"pending"===e.status).length,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Upload All"}),r.jsx("button",{onClick:()=>s([]),className:"px-4 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:"Clear All"})]})]})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Upload Tips"}),(0,r.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Large files will be processed in the background"}),r.jsx("li",{children:"• You can upload multiple files at once"}),r.jsx("li",{children:"• Processing time depends on file size and type"}),r.jsx("li",{children:"• Check the Analytics page for processing statistics"})]})]})]})};a()}catch(e){a(e)}})},5913:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>App});var a=t(997);function App({Component:e,pageProps:s}){return a.jsx(e,{...s})}t(6764)},2627:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(997),l=t(968),i=t.n(l),n=t(6689),c=t(9752),d=t(6201),o=t(7435),x=t(8509),m=t(7683),u=t(3911),h=t(1396),g=t(3604),p=t(9018),y=e([c,d,o,x,m,u,h,g,p]);[c,d,o,x,m,u,h,g,p]=y.then?(await y)():y;let j=new c.QueryClient({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5}}}),__WEBPACK_DEFAULT_EXPORT__=()=>{let[e,s]=(0,n.useState)(!1),{currentView:t,setCurrentView:a}=(0,p.q)();return((0,n.useEffect)(()=>{s(!0)},[]),e)?(0,r.jsxs)(c.QueryClientProvider,{client:j,children:[(0,r.jsxs)(i(),{children:[r.jsx("title",{children:"DataFlux - AI Media Database"}),r.jsx("meta",{name:"description",content:"Universal AI-native database for media content"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"})]}),r.jsx(o.Z,{children:(()=>{switch(t){case"dashboard":default:return r.jsx(x.Z,{});case"upload":return r.jsx(m.Z,{});case"search":return r.jsx(u.Z,{});case"assets":return r.jsx(h.Z,{});case"analytics":return r.jsx(g.Z,{})}})()}),r.jsx(d.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]}):null};a()}catch(e){a(e)}})},9018:(e,s,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(s,{q:()=>n});var r=t(6912),l=t(3602),i=e([r,l]);[r,l]=i.then?(await i)():i;let n=(0,r.create)()((0,l.persist)((e,s)=>({currentView:"dashboard",setCurrentView:s=>e({currentView:s}),sidebarOpen:!0,setSidebarOpen:s=>e({sidebarOpen:s}),uploadProgress:{},setUploadProgress:(s,t)=>e(e=>({uploadProgress:{...e.uploadProgress,[s]:t}})),searchQuery:"",setSearchQuery:s=>e({searchQuery:s}),searchResults:[],setSearchResults:s=>e({searchResults:s}),selectedAssets:[],setSelectedAssets:s=>e({selectedAssets:s}),analyticsTimeRange:"24h",setAnalyticsTimeRange:s=>e({analyticsTimeRange:s}),serviceStatus:{ingestion:"running",query:"running",analysis:"running",mcp:"running"},setServiceStatus:(s,t)=>e(e=>({serviceStatus:{...e.serviceStatus,[s]:t}})),notifications:[],addNotification:s=>e(e=>({notifications:[...e.notifications,{...s,id:Math.random().toString(36).substr(2,9),timestamp:new Date}]})),removeNotification:s=>e(e=>({notifications:e.notifications.filter(e=>e.id!==s)}))}),{name:"dataflux-app-store",partialize:e=>({currentView:e.currentView,sidebarOpen:e.sidebarOpen,analyticsTimeRange:e.analyticsTimeRange})}));a()}catch(e){a(e)}})},6764:()=>{},7312:e=>{"use strict";e.exports=require("decimal.js-light")},6783:e=>{"use strict";e.exports=require("es-toolkit/compat/get")},4551:e=>{"use strict";e.exports=require("es-toolkit/compat/isPlainObject")},8344:e=>{"use strict";e.exports=require("es-toolkit/compat/last")},9287:e=>{"use strict";e.exports=require("es-toolkit/compat/range")},7649:e=>{"use strict";e.exports=require("es-toolkit/compat/sortBy")},5844:e=>{"use strict";e.exports=require("es-toolkit/compat/throttle")},501:e=>{"use strict";e.exports=require("es-toolkit/compat/uniqBy")},5502:e=>{"use strict";e.exports=require("eventemitter3")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},1469:e=>{"use strict";e.exports=require("react-is")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9263:e=>{"use strict";e.exports=require("use-sync-external-store/shim/with-selector")},8970:e=>{"use strict";e.exports=require("victory-vendor/d3-scale")},2725:e=>{"use strict";e.exports=require("victory-vendor/d3-shape")},3258:e=>{"use strict";e.exports=import("@reduxjs/toolkit")},9752:e=>{"use strict";e.exports=import("@tanstack/react-query")},4003:e=>{"use strict";e.exports=import("es-toolkit")},9810:e=>{"use strict";e.exports=import("immer")},7457:e=>{"use strict";e.exports=import("react-dropzone")},6201:e=>{"use strict";e.exports=import("react-hot-toast")},3291:e=>{"use strict";e.exports=import("react-redux")},8639:e=>{"use strict";e.exports=import("reselect")},4281:e=>{"use strict";e.exports=import("tiny-invariant")},6912:e=>{"use strict";e.exports=import("zustand")},3602:e=>{"use strict";e.exports=import("zustand/middleware")},1017:e=>{"use strict";e.exports=require("path")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[209,450,54],()=>__webpack_exec__(1420));module.exports=t})();